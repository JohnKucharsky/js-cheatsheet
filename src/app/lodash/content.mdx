[back](/)

# Lodash

### chunk

Returns the new array of chunks

```js title="chunk"
const chunk = (inputArray, quantity) => {
  return inputArray.reduce((resultArray, item, index) => {
    const chunkIndex = Math.floor(index / quantity);

    if (!resultArray[chunkIndex]) {
      resultArray[chunkIndex] = []; // start a new chunk
    }

    resultArray[chunkIndex].push(item);

    return resultArray;
  }, []);
};

const perChunk = 2; // items per chunk
const inputArray = ["a", "b", "c", "d", "e"];

console.log(chunk(inputArray, perChunk));
// [['a','b'], ['c','d'], ['e']]
```

### compact

Creates an array with all falsey values removed. The values false, null, 0, "",
undefined, and NaN are falsey

```js title="compact"
const compact = (inputArray) => inputArray.filter(Boolean);

const inputArray = ["a", false, null, 0, "", undefined, NaN, "d"];
console.log(compact(inputArray)); // [ 'a', 'd' ]
```

### difference

Given two 0-indexed integer arrays `nums1` and `nums2`, return a list answer of size 2 where:

- `answer[0]` is a list of all distinct integers in `nums1` which are not present in `nums2`
- `answer[1]` is a list of all distinct integers in `nums2` which are not present in `nums1`

```js title="difference"
const findDifference = function (nums1, nums2) {
  let set1 = new Set(nums1);
  let set2 = new Set(nums2);

  const diffLeft = [];
  for (let n of set1) {
    if (!set2.has(n)) diffLeft.push(n);
  }

  const diffRight = [];
  for (let n of set2) {
    if (!set1.has(n)) diffRight.push(n);
  }

  return [diffLeft, diffRight];
};

const array1 = [2, 1, 3];
const array2 = [2, 3];
const result = findDifference(array1, array2);
console.log(result); // [ [ 1 ], [] ]
```

### differenceBy

Same as difference but with objects, key required

```js title="differenceBy"
const includesWithKey = function (arr, valueToFind, key) {
  if (arr.length === 0) {
    return false;
  }

  for (let i = 0; i < arr.length; i++) {
    if (arr[i][key] === valueToFind[key]) {
      return true;
    }
  }

  return false;
};

const findDifference = function (arr1, arr2, key) {
  const diffLeft = [];
  for (let value of arr1) {
    if (!includesWithKey(arr2, value, key)) diffLeft.push(value);
  }

  const diffRight = [];
  for (let value of arr2) {
    if (!includesWithKey(arr1, value, key)) diffRight.push(value);
  }

  return [diffLeft, diffRight];
};

const array1 = [{ x: 2 }, { x: 1 }];
const array2 = [{ x: 1 }];
const result = findDifference(array1, array2, "x");
console.log(result); // [ [ { x: 2 } ], [] ]
```

### intersection

```js title="intersection"
const intersection = function (nums1, nums2) {
  let set1 = new Set(nums1);
  let set2 = new Set(nums2);
  let result = [];

  for (let nums of set2) {
    if (set1.has(nums)) {
      result.push(nums);
    }
  }

  return result;
};

console.log(intersection([2, 1], [2, 3])) // [ 2 ]
```

### union

Creates an array of unique values, in order, from all given arrays

```js title="union"
const union = (...arrays) => {
  return Array.from(new Set([].concat(...arrays)));
};

console.log(union([1, 2], [1, 7, 7], [3, 1]));
// [ 1, 2, 7, 3 ]
```

### keyBy

```js title="keyBy"
function keyBy(collection, iteratee) {
  const result = {};

  collection.forEach((item) => {
    const key =
      typeof iteratee === "function" ? iteratee(item) : item[iteratee];
    result[key] = item;
  });

  return result;
}

const array = [
  { dir: "left", code: 97 },
  { dir: "right", code: 100 },
];

const res1 = keyBy(array, function (o) {
  return String.fromCharCode(o.code);
});
console.log(res1);
// { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }

const res2 = keyBy(array, "dir");
console.log(res2);
// { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
```